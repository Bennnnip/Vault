<span style="color:#0033cc"> __Comp1168__ </span>

<span style="color:#0033cc"> __Week2 &3__ </span>

<span style="color:#000000"> __An introduction__ </span>  <span style="color:#000000"> __to SQL __ </span>

<span style="color:#000000"> __\(Structured Query Language\)__ </span>

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __“Standard SQL” __ </span>

Standardized by ANSI but different vendors \(Oracle\, Microsoft etc\) make little variations and come up with their own  <span style="color:#c00000"> __DIALECTS __ </span> of SQL

Basic SQL statements are the same for all  _dialects_ \.

Once you know one dialect\, you can easily learn others\.

<span style="color:#0033cc"> __Data Migration issues__ </span>

Most applications require modification when moved from one to another database\.

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __Basic Command in SQL is __ </span>  <span style="color:#0033cc"> _SELECT_ </span>

__Which is __  __used to retrieve data from a table\(s\)__

__followed by the FROM Keyword \(or Clause\)__

__Many optional clauses can follow: __  <span style="color:#c00000"> __WHERE__ </span>  <span style="color:#c00000"> __\, ORDER BY__ </span>

__use __  __ap__  __;__

__\- \- make __  __ap__  __ as the current databases__

![](img/Comp1168Lecture2%28Intro%20SQL%29_0.png)

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

# The Generic Structure of the SELECT statement

<span style="color:#0070c0">SELECT</span>  Col\_1\, col\_2\, col\_3…\.coln

<span style="color:#0070c0">FROM</span>  table\_name

<span style="color:#0070c0">WHERE</span>   <span style="color:#c00000">search\_condition</span>  <span style="color:#c00000">   </span>

<span style="color:#0070c0">ORDER </span>  <span style="color:#0070c0">BY </span> order\_by\_list

<span style="color:#0070c0">LIMIT</span>  row\_limit

_Search Condition_

Column\_name Operator Value

First\_name Like ‘Andy’  \-\- text data type

order\_date = ‘2001\-01\-01’  \-\-date

Salary > 50000   LIMIT 100;

\-\- numeric data type



* <span style="color:#c00000"> __The __ </span>  <span style="color:#c00000"> __five\(5 __ </span>  <span style="color:#c00000"> __clauses of the __ </span>
* <span style="color:#c00000"> __SELECT __ </span>  <span style="color:#c00000"> __statement__ </span>
    * <span style="color:#c00000">SELECT</span>
    * <span style="color:#c00000">FROM</span>
    * <span style="color:#c00000">\[WHERE\[</span>
    * <span style="color:#c00000">\[ORDER BY\]</span>
    * <span style="color:#c00000">\[LIMIT\]</span>


Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.



* _A SELECT statement that retrieves and sorts selected columns and _  _rows_
    * __SELECT __  __invoice\_number__  __\, __  __invoice\_date__  __\, __  __invoice\_total__  __\,    __  __payment\_total__  __  __
    * __FROM __  __ap\.invoices__  __ __
    * _\-\- either write the use statement to use one _  _db_  _ at a time or append schema name before table_
    * __WHERE __  __invoice\_total__  __ > __  __5000__
    * __ORDER __  __BY __  __invoice\_date__  __;__


<span style="color:#c00000"> __The result set generated by the SELECT statement in MySQL® Workbench__ </span>

![](img/Comp1168Lecture2%28Intro%20SQL%29_1.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.



* <span style="color:#0033cc"> __WHERE clause: Generic structure __ </span>
* __WHERE __  __column__  __ __  __operator __  __Literal__
* __	Salary > 500;__
* __	__  __LastName__  __ Like ‘Andy’__
  * <span style="color:#0033cc"> __The comparison __ </span>  <span style="color:#0033cc"> __operators __ </span>
  * __=__
  * __< __
  * __> __
  * __<=__
  * __>=__
  * __<> __
  * __\!=__


Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __The LIKE operator \(Textual Data\)__ </span>

__               __  __WHERE __  __match\_expression__  __ \[NOT\] LIKE pattern__

__WHERE __  __vendor\_city__  __ LIKE 'SAN%'__

_Cities that will be _  _retrieved_

“ _San_  Diego”\, “ _San_ ta Ana”

__WHERE __  __vendor\_name__  __ LIKE 'COMPU\_ER%'__

_Vendors that will be retrieved_

“Compuserve”\, “Computerworld”

<span style="color:#c00000"> _Wildcards_ </span>

_% _  _\(replaces any number of characters\)_

_\_ _  _\(replaces _  _a single character\)_

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.



* <span style="color:#0033cc"> __WHERE clause examples__ </span>
  * <span style="color:#c00000"> _Textual Data_ </span>
  * __WHERE __  __vendor\_state__  __ = __  __‘IA’;  __  _\(exact match all vendors in IOWA state\)_
  * __WHERE __  __vendor\_name__  __ < __  __‘__  __M’;  __  _\(_  _Vendors with names from A to _  _L\)_
  * <span style="color:#c00000"> _Numeric Data_ </span>
  * __WHERE __  __invoice\_total__  __ – __  __payment\_total__  __ – __  __credit\_total__  __ > __  __0;__
  * __WHERE __  __invoice\_total__  __ > __  __payment\_total__  __ \+ __  __credit\_total__  __;__
  * _Invoices with a balance due \(two variations\)_
  * __WHERE __  __credit\_total__  __ <> __  __0;__
  * __WHERE __  __credit\_total__  __ \!= __  __0;__
  * <span style="color:#c00000"> _Date Type _ </span>  <span style="color:#c00000"> _Data_ </span>
  * __WHERE __  __invoice\_date__  __ <= __  __‘2014\-07\-31’;__
  * __WHERE __  __invoice\_date__  __ >= __  __‘2014\-07\-01’; __  _\(Invoices on or after a specified date\)_


Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

# Comments in SQL

<span style="color:#c00000"> __Block __ </span>  <span style="color:#c00000"> __comment__ </span>

/\*Author: Joel MurachDate: 8/22/2014\*/

__SELECT __  __invoice\_number__  __\, __  __invoice\_date__  __\, __  __invoice\_total__  __\,__

__    __  __invoice\_total__  __ \- __  __payment\_total__  __ \- __  __credit\_total__

__    AS __  __balance\_due__  __  FROM __  __invoices __

<span style="color:#c00000"> __S__ </span>  <span style="color:#c00000"> __ingle\-line __ </span>  <span style="color:#c00000"> __comment__ </span>

\-\- The fourth column calculates the balance due

__SELECT __  __invoice\_number__  __\, __  __invoice\_date__  __\, __  __invoice\_total__  __\,__

__    __  __invoice\_total__  __ \- __  __payment\_total__  __ \- __  __credit\_total__

__    AS __  __balance\_due__  __ FROM __  __invoices __

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

_NOW_

_Lets Review some examples of SQL Statements and what do they do\!_

<span style="color:#0033cc"> __SQL DDL statements__ </span>

CREATE DATABASE\, TABLE\, INDEX

ALTER TABLE\, INDEX

DROP DATABASE\, TABLE\, INDEX

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __A statement that creates a new table__ </span>

__CREATE TABLE invoices__

__\(__

__  __  __invoice\_id__  __        INT              PRIMARY KEY__

__                    AUTO\_INCREMENT\,__

__  __  __vendor\_id__  __         INT              NOT NULL\,__

__  __  __invoice\_number__  __    VARCHAR\(50\)      NOT NULL\,__

__  __  __invoice\_date__  __      DATE             NOT NULL\,__

__  __  __invoice\_total__  __     DECIMAL\(9\,2\)     NOT NULL\,__

__  __  __payment\_total__  __     DECIMAL\(9\,2\)                 DEFAULT 0\,__

__  __  __credit\_total__  __      DECIMAL\(9\,2\)                 DEFAULT 0\,__

__  __  __terms\_id__  __          INT              NOT NULL\,__

__  __  __invoice\_due\_date__  __  DATE             NOT NULL\,__

__  __  __payment\_date__  __      DATE\,__

__  CONSTRAINT __  __invoices\_fk\_vendors__

__    FOREIGN KEY \(__  __vendor\_id__  __\)__

__    REFERENCES vendors \(__  __vendor\_id__  __\)\,__

__  CONSTRAINT __  __invoices\_fk\_terms__

__    FOREIGN KEY \(__  __terms\_id__  __\)__

__    REFERENCES terms \(__  __terms\_id__  __\)__

__\);__

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __A statement that adds a new column to a table__ </span>

__ALTER TABLE invoices__

__ADD __  __balance\_due__  __ DECIMAL\(9\,2__  __\)__

<span style="color:#0033cc"> __A statement that deletes the new column__ </span>

__ALTER TABLE invoices__

__DROP COLUMN __  __balance\_due__

<span style="color:#0033cc"> __A statement that creates an index on the table__ </span>

__CREATE INDEX __  __invoices\_vendor\_id\_index__

__  ON invoices \(__  __vendor\_id__  __\)__

<span style="color:#0033cc"> __A statement that deletes the new index__ </span>

__DROP INDEX __  __invoices\_vendor\_id\_index__

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __SQL DML statements__ </span>

SELECT

INSERT

UPDATE

DELETE

<span style="color:#0033cc"> __The INSERT statement__ </span>

__INSERT INTO invoices__

__  \(__  __vendor\_id__  __\, __  __invoice\_number__  __\, __  __invoice\_date__  __\, __

__   __  __invoice\_total__  __\, __  __terms\_id__  __\, __  __invoice\_due\_date__  __\)__

__VALUES __

__  \(12\, '3289175'\, '2014\-07\-18'\, 165\, 3\, '2014\-08\-17'\)__

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __The Update Statement__ </span>

__UPDATE invoices__

__SET __  __credit\_total__  __ = __  __35\.89__

__WHERE __  __invoice\_number__  __ = '367447'__

__;__

<span style="color:#c00000"> __Update statement with the WHERE clause__ </span>

__UPDATE invoices__

__SET __  __invoice\_due\_date__  __ __

__    = DATE\_ADD\(__  __invoice\_due\_date__  __\, INTERVAL 30 DAY\)__

__WHERE __  __terms\_id__  __ = 4__

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __The DELETE Statement__ </span>

__DELETE FROM invoices__

__WHERE __  __invoice\_number__  __ = __  __'4\-342\-8069‘__

<span style="color:#c00000"> __Without the WHERE clause it would deletes all data from the table \(be careful\)__ </span>

__DELETE FROM invoices__

__WHERE __  __invoice\_total__  __ \- __  __payment\_total__  __ \- __  __credit\_total__  __ = 0__

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

# Calculated Columns

__Numeric columns support all arithmetic operations__

_SELECT _  _invoice\_total_  _ \- _  _payment\_total_  _ – _  _credit\_total_  _ _  _    AS _  _balance\_due_

__For textual columns __

_SELECT CONCAT\(_  _first\_name_  _\, ' '\, _  _last\_name_  _\) AS _  _full\_name_

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_2.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __Use Column Alias \(Labels\) to change the column name in the result set__ </span>

__select __  __invoice\_number__  __\, __  __invoice\_date__  __\, __  __invoice\_total__  __\, __  __payment\_total__  __\, __  __credit\_total__  __\, __  _invoice\_total_  _ \- _  _payment\_total_  _ – _  _credit\_total_  __ __  <span style="color:#ff0000"> __as __ </span>  <span style="color:#ff0000"> __balance\_due__ </span>  <span style="color:#ff0000"> __ __ </span>  __from invoices where __  __invoice\_total__  __ – __  __payment\_total__  __ \- __  __credit\_total__  __ > 0 order by __  __invoice\_date__

__SELECT __  __invoice\_id__  __\, __  __invoice\_total__  __\, __  __credit\_total__  __ __  __\+ __  __payment\_total__  __ __  <span style="color:#ff0000"> __AS __ </span>  <span style="color:#ff0000"> __total\_credits__ </span>

__FROM __  __invoices __  __WHERE __  __invoice\_id__  __ = __  __17;__

![](img/Comp1168Lecture2%28Intro%20SQL%29_3.png)

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_4.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

<span style="color:#0033cc"> __The BETWEEN Operator __ </span>

__SELECT __  __invoice\_number__  __\, __  __invoice\_date__  __\, __  __invoice\_total__

__FROM invoices__

__WHERE __  __invoice\_date__  __ BETWEEN '2014\-06\-01' AND '2014\-06\-30'__

__ORDER BY __  __invoice\_date__  __;__

![](img/Comp1168Lecture2%28Intro%20SQL%29_5.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_6.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.



* <span style="color:#0033cc"> __OVERRIDE the default Operator Precedence \(control sequence __ </span>  <span style="color:#0033cc"> __of __ </span>  <span style="color:#0033cc"> __operations__ </span>
    * __SELECT __  __invoice\_id__  __\, __
    * __       __  __invoice\_id__  __ \+ 7 \* 3 AS __  __multiply\_first__  __\, __
    * __       \(__  __invoice\_id__  __ \+ 7\) \* 3 AS __  __add\_first__
    * __FROM invoices__


![](img/Comp1168Lecture2%28Intro%20SQL%29_7.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

# Using Built in Functions

Round \(number\, precision\)

Concat \(string1\, string2\, string3…\.string\-n\)

Date\_Format \(date\, picture\)

![](img/Comp1168Lecture2%28Intro%20SQL%29_8.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_9.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_10.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_11.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_12.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_13.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_14.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_15.png)

_Complete List of Format Code for _  _Date\_Format_  _ functions is _  _availabale_  _ at: _

[https](https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html#function_date-format)[://dev\.mysql\.com/doc/refman/8\.0/en/date\-and\-time\-functions\.html\#function\_date\-format](https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html#function_date-format)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_16.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_17.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_18.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_19.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_20.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_21.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_22.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_23.png)

![](img/Comp1168Lecture2%28Intro%20SQL%29_24.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_25.png)

![](img/Comp1168Lecture2%28Intro%20SQL%29_26.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_27.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_28.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_29.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_30.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_31.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_32.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_33.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_34.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

![](img/Comp1168Lecture2%28Intro%20SQL%29_35.png)

Murach's MySQL\, C3

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

Murach's MySQL\, C1

© 2015\, Mike Murach & Associates\, Inc\.

